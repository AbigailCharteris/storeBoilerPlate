import { assert, expect } from 'chai';
import action from '../../actions/setScenarioVersionAction';
import { SET_SCENARIO_VERSION } from '../../constants/actionTypes';
import {
  SCENARIO_FILE_VERSION,
  SCENARIO_ID,
  DELTA_COMMENT,
} from '../../constants/stateConstants';

describe('setScenarioVersionAction', () => {
  it('should generate action', () => {
    const FAKE_SCENARIO = {
      id: 'testId',
      fileVersion: 1,
      deltaComment: 'test comment',
    };

    const actualAction = action(FAKE_SCENARIO);

    expect(actualAction).to.deep.equal({
      type: SET_SCENARIO_VERSION,
      payload: {
        [SCENARIO_ID]: FAKE_SCENARIO.id,
        [SCENARIO_FILE_VERSION]: FAKE_SCENARIO.fileVersion,
        [DELTA_COMMENT]: FAKE_SCENARIO.deltaComment,
      },
    });
  });
});
