import { assert, expect } from 'chai';
import { fromModel, toModel } from '../../actionAdapters/requestBatchesAdapter';
import { BATCH_LIST, BATCH_LIST_NO_DATA } from '../../constants/stateConstants';

describe('requestBatchesAdapter', () => {
  it('fromModel: should provide default', () => {
    const providedAction = { payload: {} };

    const state = fromModel(providedAction);

    expect(state).to.deep.equal({
      [BATCH_LIST]: BATCH_LIST_NO_DATA,
    });
  });

  it('fromModel: should override default with data', () => {
    const actualBatchList = ['test'];

    const providedAction = {
      payload: { [BATCH_LIST]: actualBatchList },
    };

    const state = fromModel(providedAction);

    expect(state).to.deep.equal({
      [BATCH_LIST]: actualBatchList,
    });
  });

  it('toModel: should generate redux payload', () => {
    const actualBatchList = ['test'];

    const expectedAction = {
      payload: { [BATCH_LIST]: actualBatchList },
    };

    const state = toModel(actualBatchList);

    expect(state).to.deep.equal(expectedAction);
  });
});
