import classNames from 'classnames';
import PropTypes from 'prop-types';
import React from 'react';
import { Button } from 'react-bootstrap';

const getSelectedText = selectedIds =>
  [
    selectedIds.length,
    `item${selectedIds.length === 1 ? '' : 's'}`,
    'selected',
  ].join(' ');

const ScenariosHeader = ({
  selectedScenarios,
  add,
  deselectAll,
  removeSelected,
}) => {
  const selectedIds = Object.keys(selectedScenarios);

  return (
    <div
      className={classNames('scenarios-header', {
        'scenarios-header--selected': selectedIds.length > 0,
      })}
    >
      {!selectedIds.length && (
        <div>
          <Button
            className="btn primary scenarios-header__add-btn"
            onClick={add}
          >
            Add New
          </Button>
        </div>
      )}
      {selectedIds.length > 0 && (
        <div>
          <Button
            className="btn primary scenarios-header__deselect-btn"
            onClick={deselectAll}
          >
            Deselect
          </Button>
          <span className="scenarios-header__selected-text">
            {getSelectedText(selectedIds)}
          </span>
        </div>
      )}
      <div className="scenarios-header__actions">
        {selectedIds.length > 0 && (
          <Button
            className="btn scenarios-header__deselect-btn"
            bsStyle="default"
            onClick={removeSelected}
          >
            <i className="fa fa-trash scenarios-header__icon" />
          </Button>
        )}
      </div>
    </div>
  );
};

ScenariosHeader.propTypes = {
  selectedScenarios: PropTypes.objectOf(PropTypes.bool).isRequired,
  add: PropTypes.func.isRequired,
  deselectAll: PropTypes.func.isRequired,
  removeSelected: PropTypes.func.isRequired,
};

export default ScenariosHeader;
